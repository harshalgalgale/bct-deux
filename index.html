<!DOCTYPE html>
<html>
<head>
    <title></title>
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>

    <!-- Core CSS -->

     <!--<link href="http://netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap.min.css" rel="stylesheet" type="text/css">-->
    <link href="css/slate.bootstrap.min.css" rel="stylesheet">
    <link href="css/bct.css" rel="stylesheet">

    <link href="http://netdna.bootstrapcdn.com/font-awesome/3.2.1/css/font-awesome.min.css" rel="stylesheet"
          type="text/css">
    <link href="css/typeahead.js-bootstrap.css" rel="stylesheet" type="text/css">
    <!--https://github.com/jharding/typeahead.js-bootstrap.css-->
    <link rel="stylesheet" href="leaflet/leaflet.css"/>
    <!--[if lte IE 8]>
    <link rel="stylesheet" href="leaflet/leaflet.ie.css"/>
    <![endif]-->
    <script src="//netdna.bootstrapcdn.com/bootstrap/3.0.0/js/bootstrap.min.js"></script>


    <script src="leaflet/leaflet.js"></script>
    <script src="leaflet/leaflet.ajax.min.js"></script>
    <script src="leaflet/leaflet-providers.js"></script>

    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.6.2/html5shiv.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/respond.js/1.2.0/respond.js"></script>
    <![endif]-->
</head>
<body>

<div class="navbar  navbar-fixed-top">
    <div class="navbar-header">
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="#">Brewster Conservation Trust</a>
    </div>
    <div class="navbar-collapse collapse">
        <ul class="nav navbar-nav">
            <li><a href="#" data-toggle="collapse" data-target=".navbar-collapse.in"
                   onclick="$('#aboutModal').modal('show'); return false;"><i class="icon-question-sign"
                                                                              style="color: white"></i>&nbsp;&nbsp;About</a>
            </li>
            <li><a href="#" data-toggle="collapse" data-target=".navbar-collapse.in"
                   onclick="$('#contactModal').modal('show'); return false;"><i class="icon-envelope"
                                                                                style="color: white"></i>&nbsp;&nbsp;Contact</a>
            </li>
            <li class="dropdown">
                <a id="toolsDrop" href="#" role="button" class="dropdown-toggle" data-toggle="dropdown"><i
                        class="icon-globe" style="color: white"></i>&nbsp;&nbsp;Tools <b class="caret"></b></a>
                <ul class="dropdown-menu">
                    <li><a href="#" onclick="map.fitBounds(boroughs.getBounds()); return false;"><i
                            class="icon-fullscreen"></i>&nbsp;&nbsp;Zoom To Full Extent</a></li>
                    <li><a href="#" onclick="$('#legendModal').modal('show'); return false;"><i
                            class="icon-picture"></i>&nbsp;&nbsp;Show Legend</a></li>
                    <!--<li class="divider"></li>-->
                    <!--<li><a href="#" onclick="$('#loginModal').modal('show'); return false;"><i class="icon-user"></i>&nbsp;&nbsp;Login</a>-->
                    <!--</li>-->
                </ul>
            </li>
            <li><a href="https://github.com/bmcbride/bootleaf" data-toggle="collapse" data-target=".navbar-collapse.in"><i
                    class="icon-github-alt" style="color: white"></i>&nbsp;&nbsp;GitHub</a></li>
        </ul>
        <form class="navbar-form navbar-right">
            <div class="input-group search-container">
                <input id="searchbox" type="text" class="form-control" placeholder="Search">
                <span class="input-group-addon"><i class="icon-search"></i></span>
            </div>
        </form>
    </div>
    <!--/.navbar-collapse -->
</div>

<div class="row" id="container">
    <div class="col-sm-3 col-lg-3" id="sidebar" style="padding: 10px; overflow: auto;">
        <ul class="nav nav-tabs" id="myTab">
            <li class="active"><a href="#layers" data-toggle="tab">&nbsp;Grantors</a></li>
            <li><a href="#help" data-toggle="tab"><i class="icon-question"></i>&nbsp;Help</a></li>
        </ul>

        <div class="tab-content" style="padding-top: 10px;">
            <div class="tab-pane active" id="layers">
                <div class="panel-group">
                    <div class="panel panel-default">
                        <div class="panel-heading">
                            <a class="accordion-toggle" data-toggle="collapse" data-parent="#accordion_"
                               href="#overlay-layers">
                                Overlay Layers
                            </a>
                        </div>
                        <div id="overlay-layers" class="panel-collapse collapse in">
                            <div class="panel-body" style="padding: 0px 15px;">

                            </div>
                        </div>
                    </div>
                    <div class="panel panel-default">
                        <div class="panel-heading">
                            <a class="accordion-toggle" data-toggle="collapse" data-parent="#accordion_"
                               href="#basemap-layers">
                                Basemaps
                            </a>
                        </div>
                        <div id="basemap-layers" class="panel-collapse collapse in">
                            <div class="panel-body" style="padding: 0px 15px;">

                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="tab-pane" id="help">
                Help content could go here...
            </div>
        </div>
    </div>
    <div class="col-sm-9 col-lg-9" id="map">
    </div>
</div>
<a href="#" type="button" rel="tooltip" class="toggle btn btn-default" data-toggle="tooltip" data-placement="right"
   title="Toggle Sidebar"><i class="icon-chevron-left"></i></a>

<div class="modal fade" id="aboutModal">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                <h4 class="modal-title">Welcome to the BootLeaf Sidebar template!</h4>
            </div>

            <div class="modal-body">
                <ul id="aboutTabs" class="nav nav-tabs">
                    <li class="active"><a href="#about" data-toggle="tab"><i class="icon-question-sign"></i>&nbsp;About
                        the project</a></li>
                    <li><a href="#disclaimer" data-toggle="tab"><i
                            class="icon-exclamation-sign"></i>&nbsp;Disclaimer</a></li>
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown"><i class="icon-globe"></i>&nbsp;Metadata
                            <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                            <li><a href="#boroughs-tab" data-toggle="tab">Boroughs</a></li>
                            <li><a href="#subway-lines-tab" data-toggle="tab">Subway Lines</a></li>
                            <li><a href="#theaters-tab" data-toggle="tab">Theaters</a></li>
                            <li><a href="#museums-tab" data-toggle="tab">Museums</a></li>
                        </ul>
                    </li>
                </ul>
                <div id="aboutTabsContent" class="tab-content" style="padding-top: 10px;">
                    <div class="tab-pane fade active in" id="about">
                        <p>A simple template for building web mapping applications with <a
                                href="http://getbootstrap.com/">Bootstrap 3</a> and <a href="http://leafletjs.com/"
                                                                                       target="_blank">Leaflet</a>.</p>

                        <div class="panel panel-primary">
                            <div class="panel-heading">
                                Features
                            </div>
                            <ul class="list-group">
                                <li class="list-group-item">Fullscreen mobile-friendly map template with responsive
                                    navbar, sidebar, and modal placeholders
                                </li>
                                <li class="list-group-item">jQuery loading of external GeoJSON files</li>
                                <li class="list-group-item">Elegant client-side multi-layer feature search with
                                    autocomplete using <a href="http://twitter.github.io/typeahead.js/" target="_blank">typeahead.js</a>
                                </li>
                                <li class="list-group-item">Integration of Bootstrap tables into Leaflet popups</li>
                                <li class="list-group-item">Logic for minimizing Sidebar and removing scale control on
                                    small screens
                                </li>
                                <li class="list-group-item">Custom layer control with functions for defining and
                                    retaining vector z-index when toggling layer visibility.
                                </li>
                            </ul>
                        </div>
                    </div>
                    <div class="tab-pane fade text-danger" id="disclaimer">
                        <p>The data provided on this site is for informational and planning purposes only.</p>

                        <p>Absolutely no accuracy or completeness guarantee is implied or intended. All information on
                            this map is subject to such variations and corrections as might result from a complete title
                            search and/or accurate field survey.</p>
                    </div>
                    <div class="tab-pane fade" id="boroughs-tab">
                        <p>Borough data courtesy of <a
                                href="http://www.nyc.gov/html/dcp/html/bytes/meta_dis_nyboroughwi.shtml"
                                target="_blank">New York City Department of City Planning</a></p>
                    </div>
                    <div class="tab-pane fade" id="subway-lines-tab">
                        <p><a href="http://spatialityblog.com/2010/07/08/mta-gis-data-update/#datalinks"
                              target="_blank">MTA Subway data</a> courtesy of the <a
                                href="http://www.urbanresearch.org/about/cur-components/cuny-mapping-service"
                                target="_blank">CUNY Mapping Service at the Center for Urban Research</a></p>
                    </div>
                    <div class="tab-pane fade" id="theaters-tab">
                        <p>Theater data courtesy of <a
                                href="https://data.cityofnewyork.us/Recreation/Theaters/kdu2-865w" target="_blank">NYC
                            Department of Information & Telecommunications (DoITT)</a></p>
                    </div>
                    <div class="tab-pane fade" id="museums-tab">
                        <p>Museum data courtesy of <a
                                href="https://data.cityofnewyork.us/Recreation/Museums-and-Galleries/sat5-adpb"
                                target="_blank">NYC Department of Information & Telecommunications (DoITT)</a></p>
                    </div>
                </div>
            </div>
        </div>
        <!-- /.modal-content -->
    </div>
    <!-- /.modal-dialog -->
</div>


<script>
    var map;
        $(document).ready(function () {
        $('[rel=tooltip]').tooltip();
        if (document.body.clientWidth <= 767) {
            $('#sidebar').toggle();
            $('a.toggle i').toggleClass('icon-chevron-left icon-chevron-right');
        }
    });
    $(window).resize(function () {
        $('.tt-dropdown-menu').css('max-height', $('#container').height() - $('.navbar').height() - 20);
    });

    $('a.toggle').click(function () {
        $('a.toggle i').toggleClass('icon-chevron-left icon-chevron-right');
        $('#map').toggleClass('col-sm-9 col-lg-9 col-sm-12 col-lg-12');
        $('#sidebar').toggle();
        map.invalidateSize();
        return false;
    });
    var borderStyle = {
        "color": "#087CF3",
        "weight": 3,
        "fillOpacity": 0.00
    };
map = L.map("map", {
        zoom: 13,
        center: new L.LatLng(41.74737922562798, -70.0688695)
        //layers: [bctPoints]
    });
    L.tileLayer.provider('Stamen.Watercolor').addTo(map);
    //var brewster = new L.GeoJSON.AJAX("data/brewster_boundary.geojson", {style: borderStyle}).addTo(map);

    var bctPoints = L.geoJson(null, {
        pointToLayer: function (feature, latlng) {
            return L.marker(latlng, {
                icon: L.icon({
                    iconUrl: 'leaflet/images/openspace.png',
                    iconSize: [22, 26],
                    iconAnchor: [12, 28],
                    popupAnchor: [0, -25]
                }),
                title: feature.properties.BCT,
                riseOnHover: true
            });
        },
        onEachFeature: function (feature, layer) {
            if (feature.properties) {
                var content = '<table class="table table-bordered ">' +
                        '<tr><th>Name</th><td>' + feature.properties.BCT + '</td></tr>' +
                        '<tr><th>Grantor</th><td>' + feature.properties.GRANTOR + '</td></tr>' +
                        '<tr><th>Habitat</th><td>' + feature.properties.HABITAT + '</td></tr>' +

                        '<table>';
                layer.bindPopup(content, {
                    maxWidth: '300'

                });

            }
        }
    });
    $.getJSON("data/bct-points-9-28.geojson", function (data) {
        bctPoints.addData(data).addTo(map);
    });

 L.tileLayer.provider('Stamen.Watercolor').addTo(map);
    //    var bctPoints = new L.GeoJSON.AJAX("data/bct-points-9-28.geojson", {icon: greenIcon}).addTo(map);

</script>

</body>
</html>

